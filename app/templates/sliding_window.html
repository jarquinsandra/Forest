{% extends "base.html" %} {% block content %}
Sliding window algorithm

In order to calculate the consensus spectrum of a class the peaks from all the spectra for the class must be binned to make them comparable. A lot of different algorithms are used for this task, however for this case we use a sliding window algorithm 
The sliding window algorithm idea is to replace the original m/z values of all peaks with a set of calibrated m/z values. The algorithm is initiated by calculating, at each m/z point, the total number of peaks, in all samples, that are within the window of potential shift for the m/z point. The m/z point that has the highest total number of peaks (summing over all samples for each class) within its window of potential shift is entered into the new m/z set as a calibrated m/z value, and all the points that are within the window of potential shift for this point are removed from the subsequent steps of the algorithm. Then, the above procedure is repeated (ie, finding the point, from the remaining points, that has the highest total number of peaks within its window of potential shift, entering it into the new mass/charge set, and removing the mass/charge points that are within its window of potential shift from the subsequent steps of the algorithm) until all peaks are exhausted from every sample. 
The end product of this repeated procedure is the new m/z set or consensus spectra. The final step of the algorithm is toconstruct a calibrated dataset that consists of m/z and average intensity for each species, recongnizing as peaks only those who are present in a certain percentage of samples, this algorithm helps recognize the peaks that are useful for classification purposes, redundant detections allow the components to be confidently reported.

{% endblock %}